import { AnimatePresence, motion, Variants } from "framer-motion";
import { useXStack } from "../SiteSwitcher";
import cn from "classnames";
import styles from "../header-logo.module.css";
import React from "react";

type LogoProps = {
  className?: string;
  height?: number;
};

const LEFT_PADDING = 0;
const RIGHT_PADDING = 12;
// The width of the logo + wordmark. This does not include the "invisible" padding.
const VISUAL_WIDTH = 112;

const XStackAnimated = ({ height = 26, className = "" }: LogoProps) => {
  const site = useXStack();

  return (
    <>
      <svg
        id="Layer_1"
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 140 26"
        height={24}
        width={120}
        fill="currentColor"
      >
        <g>
          <AnimatePresence mode="sync" initial={false}>
            {site === "xballot" ? (
              <motion.g
                key="xballot"
                variants={variants}
                initial="hidden"
                animate="visible"
                exit="hidden"
                custom={24}
                className="z-0 relative"
              >
                <g
                  className={cn("z-10 relative", styles.desktopLogo)}
                  transform={`translate(${LEFT_PADDING},0)`}
                >
                  <path d="M42.73802,13.82727l5.48779,6.72998h-4.22803l-3.3999-4.19189-3.3999,4.19189h-4.00342l5.4707-6.67334-5.3501-6.48584h4.22803l3.2793,4.02295,3.26172-4.02295h4.021l-5.36719,6.4292Z" />
                  <path d="M63.7434,16.94788c0,2.2749-1.88135,3.60938-4.84961,3.60938h-9.33643V7.39807h8.646c2.96875,0,4.84961,1.29736,4.84961,3.40283,0,1.48486-.94922,2.78223-2.76123,2.89453,1.89844,.13184,3.45166,1.22217,3.45166,3.25244Zm-10.69971-4.30518h4.57324c1.17334,0,1.9502-.28174,1.9502-1.29688,0-.99609-.77686-1.27832-1.9502-1.27832h-4.57324v2.5752Zm7.09277,3.854c0-1.07178-.74219-1.37256-1.98486-1.37256h-5.10791v2.76367h5.10791c1.24268,0,1.98486-.31934,1.98486-1.39111Z" />
                  <path d="M75.3264,18.03821h-6.62695l-1.13916,2.51904h-3.69287l6.24707-13.15918h3.84863l6.24707,13.15918h-3.74463l-1.13916-2.51904Zm-1.22559-2.72559l-2.08789-4.66211-2.10547,4.66211h4.19336Z" />
                  <path d="M93.19066,17.47424v3.08301h-11.64893V7.39807h3.52051v10.07617h8.12842Z" />
                  <path d="M106.55052,17.47424v3.08301h-11.64893V7.39807h3.52051v10.07617h8.12842Z" />
                  <path d="M107.17406,13.97766c0-4.45508,3.08936-7.01172,7.86963-7.01172s7.88672,2.55664,7.88672,7.01172-3.10645,7.01172-7.88672,7.01172-7.86963-2.55664-7.86963-7.01172Zm12.16699,0c0-2.48145-1.63965-3.8916-4.29736-3.8916-2.64014,0-4.29688,1.41016-4.29688,3.8916s1.63916,3.8916,4.29688,3.8916,4.29736-1.41016,4.29736-3.8916Z" />
                  <path d="M137.08519,10.46204h-5.02197v10.09521h-3.52051V10.46204h-4.9873v-3.06396h13.52979v3.06396Z" />
                </g>
              </motion.g>
            ) : site === "xspace" ? (
              <motion.g
                key="xspace"
                variants={variants}
                initial="hidden"
                animate="visible"
                exit="hidden"
                custom={-24}
                className="z-0 relative"
              >
                <g
                  className={cn("z-10 relative", styles.desktopLogo)}
                  transform={`translate(${LEFT_PADDING},0)`}
                >
                  <path d="M0,0H26V26H0V0Z" fill="none" />
                  <path d="M42.60398,13.85196l5.41106,6.71862h-4.16888l-3.35159-4.18521-3.35217,4.18521h-3.94772l5.39423-6.66227-5.27466-6.47469h4.1683l3.23318,4.01619,3.21576-4.01619h3.96398l-5.29149,6.41835Z" />
                  <path d="M61.8788,16.46092c0,2.70243-2.26264,4.54118-6.58476,4.54118-3.06252,0-5.63164-.91937-7.50305-2.57118l1.82033-2.36439c1.41226,1.31376,3.369,2.04555,5.75122,2.04555,2.04149,0,3.06252-.41295,3.06252-1.27599,0-.84447-.95312-1.12617-3.40325-1.35153-3.53907-.3374-6.75483-1.20108-6.75483-4.12823,0-2.81575,2.75662-4.35423,6.53368-4.35423,2.55229,0,4.90026,.67544,6.53368,1.95143l-1.75241,2.38359c-1.32694-1.03206-2.92669-1.44501-4.78126-1.46357-1.39485,0-3.07935,.24393-3.07935,1.18251,0,.8816,1.37802,.99428,3.50483,1.18187,3.89664,.35661,6.65267,1.20108,6.65267,4.22298h-.00001Z" />
                  <path d="M77.51237,12.03178c0,3.05904-2.16106,4.59752-5.41106,4.59752h-4.7981v3.94128h-3.47116V7.43362h8.26926c3.25,0,5.41106,1.57626,5.41106,4.59816Zm-3.52224,.07491c0-1.33233-.88463-1.76384-2.17789-1.76384h-4.50903v3.50912h4.50903c1.29327,0,2.17789-.43152,2.17789-1.74528Z" />
                  <path d="M87.8713,18.05574h-6.53368l-1.12261,2.51484h-3.64124l6.15927-13.13696h3.79448l6.15928,13.13696h-3.69232s-1.1232-2.51484-1.12319-2.51484Zm-1.20794-2.72099l-2.0589-4.6545-2.07573,4.6545h4.13463Z" />
                  <path d="M103.82819,15.87895l2.97719,1.68894c-1.10578,1.93286-3.50483,3.43421-6.72059,3.43421-4.49219,0-7.52046-2.57118-7.52046-6.99968,0-4.42914,3.02827-7.00031,7.65629-7.00031,3.07993,0,5.46215,1.53848,6.53368,3.41565l-2.9946,1.68894c-.78246-1.3509-1.9904-1.98921-3.58958-1.98921-2.45013,0-4.08355,1.3701-4.08355,3.88494s1.63342,3.8843,4.08355,3.8843c1.59917,0,2.82394-.60054,3.65807-2.00777h0Z" />
                  <path d="M121.23103,17.64279v2.92779h-12.71037V7.43362h12.52288v2.92779h-9.10281v2.15823h7.50363v2.79654h-7.50363v2.32661s9.29029,0,9.29029,0Z" />
                </g>
              </motion.g>
            ) : (
              <motion.g
                key="xstack"
                variants={variants}
                initial="hidden"
                animate="visible"
                exit="hidden"
                custom={-24}
                className="z-0 relative"
              >
                <g
                  className={cn("z-10 relative", styles.desktopLogo)}
                  transform={`translate(${LEFT_PADDING},0)`}
                >
                  <path d="M42.9926,13.85196l5.63443,6.71862h-4.34089l-3.49043-4.18521-3.49073,4.18521h-4.11029l5.6166-6.66228-5.49268-6.47469h4.34089l3.36651,4.01619,3.34868-4.01619h4.12842l-5.51051,6.41835Z" />
                  <path d="M63.06413,16.46091c0,2.70243-2.35647,4.54118-6.85693,4.54118-3.18911,0-5.86472-.91937-7.81348-2.57118l1.89557-2.36439c1.47064,1.31376,3.50825,2.04555,5.98894,2.04555,2.12617,0,3.18911-.41295,3.18911-1.27599,0-.84447-.99221-1.12617-3.54362-1.35153-3.68536-.3374-7.03404-1.20108-7.03404-4.12823,0-2.81511,2.87026-4.35423,6.80374-4.35423,2.65779,0,5.10281,.67544,6.80374,1.95207l-1.82485,2.38295c-1.38208-1.03206-3.04766-1.44501-4.97889-1.46357-1.45281,0-3.20693,.24393-3.20693,1.18251,0,.8816,1.43528,.99428,3.65,1.18187,4.0574,.35661,6.92766,1.20108,6.92765,4.22299Z" />
                  <path d="M77.50123,10.49265h-5.156v10.07793h-3.61433V10.49265h-5.12064v-3.05904h13.89097v3.05904Z" />
                  <path d="M87.52671,18.05574h-6.80374l-1.16962,2.51484h-3.79175l6.41418-13.13697h3.95102l6.41387,13.13697h-3.84463l-1.16931-2.51484h-.00002Zm-1.25818-2.721l-2.1437-4.6545-2.16184,4.6545h4.30554Z" />
                  <path d="M104.14257,15.87894l3.10085,1.68894c-1.15149,1.93287-3.6497,3.43422-6.99838,3.43422-4.67788,0-7.83162-2.57118-7.83162-6.99968,0-4.42914,3.15374-7.00032,7.97306-7.00032,3.20723,0,5.68732,1.53913,6.80374,3.41565l-3.11838,1.68894c-.81481-1.3509-2.07328-1.98921-3.73855-1.98921-2.5514,0-4.25234,1.3701-4.25234,3.88494,0,2.5142,1.70093,3.8843,4.25234,3.8843,1.66527,0,2.94128-.60054,3.80927-2.00777h.00001Z" />
                  <path d="M119.55375,20.57058l-4.16348-5.64879-2.74664,2.58975v3.05904h-3.61464V7.43361h3.61464v6.08031l6.34315-6.08031h4.50017l-5.51022,5.23584,5.82936,7.90113h-4.25234Z" />
                </g>
              </motion.g>
            )}
          </AnimatePresence>
        </g>

        <path d="M22.75,8.125h-4.875V3.25c-.0009-.89709-.72791-1.6241-1.625-1.625H3.25c-.89709,.0009-1.6241,.72791-1.625,1.625v13c.0009,.89709,.72791,1.6241,1.625,1.625h4.875v4.875c0,.89746,.72754,1.625,1.625,1.625h13c.89746,0,1.625-.72754,1.625-1.625V9.75c0-.89746-.72754-1.625-1.625-1.625Zm-13,8.125v-6.5h6.5v6.5h-6.5ZM3.24919,3.25h13.00081v4.875h-6.5c-.89709,.0009-1.6241,.72791-1.625,1.625v6.5H3.25l-.00081-13Z" />
        <path d="M0,0H26V26H0V0Z" fill="none" />
      </svg>
    </>
  );
};

export default XStackAnimated;

const variants: Variants = {
  visible: {
    opacity: 1,
    x: 0,
    transition: {
      duration: 0.3,
    },
  },
  hidden: (distance) => ({
    opacity: 0,
    x: distance,
    transition: {
      duration: 0.3,
    },
  }),
};
